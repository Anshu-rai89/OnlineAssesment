(this.webpackJsonponlineassesment=this.webpackJsonponlineassesment||[]).push([[0],{25:function(e,t,a){e.exports=a(38)},30:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(22),o=a.n(r),s=(a(30),a(2)),c=a(10),i=a(5),m=a(6),u=a(8),d=a(7),p=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).removeUser=function(){localStorage.removeItem("token"),localStorage.removeItem("id"),localStorage.removeItem("name"),e.setState({loggedIn:!1})},e.state={loggedIn:!0},e}return Object(m.a)(a,[{key:"render",value:function(){return 0==this.state.loggedIn?l.a.createElement(c.a,{to:"/signin"}):l.a.createElement("ul",{className:"right"},l.a.createElement("li",null,l.a.createElement(s.c,{to:"/"},"Take Test")," "),l.a.createElement("li",null,l.a.createElement(s.c,{to:"/",onClick:this.removeUser},"Logout")),l.a.createElement("li",null,l.a.createElement(s.c,{to:"/",className:"btn btn-floating pink lighten-1"},localStorage.getItem("name"))))}}]),a}(l.a.Component),g=function(){return l.a.createElement("ul",{className:"right"},l.a.createElement("li",null,l.a.createElement(s.c,{to:"/signup"},"Signup")," "),l.a.createElement("li",null,l.a.createElement(s.c,{to:"/signin"},"Login")))},h=function(){var e=localStorage.getItem("token");return l.a.createElement("nav",{className:"nav-wrapper grey darken-3 "},l.a.createElement("div",{className:"container"},l.a.createElement(s.b,{to:"/",className:"brand-logo"},"CBT"),e?l.a.createElement(p,null):l.a.createElement(g,null)))},E=a(12),v=function(e){var t=e.option,a=e.id,n=e.setAns;return console.log("options ",t,"id",a),l.a.createElement("p",{style:{marginTop:"30px"}},l.a.createElement("label",null,l.a.createElement("input",{className:"with-gap",id:a,style:{margin:"20px"},name:"opts",type:"radio",onChange:n}),l.a.createElement("span",null,t.text)))},f=function(e){var t=e.options;return console.log("options are in options list",t),l.a.createElement("div",{style:{marginTop:"30px"}},t.map((function(t,a){return l.a.createElement(v,{key:"option-".concat(a),id:a+1,option:t,setAns:e.setAns})})))},b=function(e){var t=e.question,a=e.setAns,n=e.id;return console.log("in question list otions are",t.options),l.a.createElement("div",{className:"card question-info"},l.a.createElement("div",{className:"card-content grey-text text-darken-3"},l.a.createElement("span",{className:"card-title"}," ","Q-".concat(n)),l.a.createElement("p",{className:"inner"},t.title),l.a.createElement(f,{options:t.options,saveAns:a})))},N=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).setAns=function(t){e.setState(Object(E.a)({},t.target.id,[t.target.value]))},e.state={opt:""},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this;console.log(this.state);var t=this.props.questions;console.log(t);var a=localStorage.getItem("token");return l.a.createElement("div",{className:"questionlist section"},a&&t&&t.map((function(t,a){return l.a.createElement(b,{key:"Q-".concat(a+1),question:t,id:a+1,setAns:e.setAns})})),a&&l.a.createElement("button",{class:"btn waves-effect waves-light",type:"submit",name:"action"},"Submit Test",l.a.createElement("i",{class:"material-icons right"},"send")))}}]),a}(l.a.Component),S=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={questions:[],loadquestion:!1},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:9000/api/v1/question/getQuestions").then((function(e){return e.json()})).then((function(t){return e.setState({questions:t.data})}))}},{key:"render",value:function(){var e=this.state.questions;return console.log(e),l.a.createElement("div",{className:"dashboard container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s12 m6"},l.a.createElement(N,{questions:e})),localStorage.getItem("token")&&l.a.createElement("div",{className:"col s12 m5 offset-m1 card"},l.a.createElement("p",null,"Evaluate"))))}}]),a}(l.a.Component),y=a(14),w=a.n(y),k=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a),(e=t.call(this)).handleChange=function(t){e.setState(Object(E.a)({},t.target.id,[t.target.value]))},e.handleSubmit=function(t){t.preventDefault();var a=e.state,n=a.email,l=a.password;fetch("http://localhost:9000/user/create-session",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:w.a.stringify({email:n,password:l})}).then((function(e){return e.json()})).then((function(t){console.log("info is ",t.data.user),localStorage.setItem("token",t.data.token),localStorage.setItem("name",t.data.user.name),localStorage.setItem("id",t.data.user.id),e.setState({loggedIn:!0})}))};var n=!1;return localStorage.getItem("token")&&(n=!0),e.state={email:"",password:"",loggedIn:n},e}return Object(m.a)(a,[{key:"render",value:function(){return this.state.loggedIn?l.a.createElement(c.a,{to:"/"}):l.a.createElement("div",{className:"container"},l.a.createElement("form",{onSubmit:this.handleSubmit,className:"white"},l.a.createElement("h5",{className:"grey-text text-darken-3"},"SignIn"),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("input",{type:"email",id:"email",onChange:this.handleChange})),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement("input",{type:"password",id:"password",onChange:this.handleChange})),l.a.createElement("div",{className:"input-field"},l.a.createElement("button",{className:"btn pink lighten-1 "},"Login"))))}}]),a}(l.a.Component),j=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).handleChange=function(t){e.setState(Object(E.a)({},t.target.id,[t.target.value]))},e.handleSubmit=function(t){t.preventDefault();var a={email:e.state.email[0],password:e.state.password[0],name:e.state.name[0]};console.log(w.a.stringify(a)),fetch("http://localhost:9000/user/create",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:w.a.stringify(a)}).then((function(e){return e.json()})).then((function(e){return console.log(e.msg)}))},e.state={email:"",password:"",name:""},e}return Object(m.a)(a,[{key:"render",value:function(){return localStorage.getItem("token")?l.a.createElement(c.a,{to:"/"}):l.a.createElement("div",{className:"container"},l.a.createElement("form",{onSubmit:this.handleSubmit,className:"white"},l.a.createElement("h5",{className:"grey-text text-darken-3"},"SignIn"),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("input",{type:"email",id:"email",onChange:this.handleChange})),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement("input",{type:"password",id:"password",onChange:this.handleChange})),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"name"},"name"),l.a.createElement("input",{type:"text",id:"name",onChange:this.handleChange})),l.a.createElement("div",{className:"input-field"},l.a.createElement("button",{className:"btn pink lighten-1 "},"SignUp"))))}}]),a}(l.a.Component);var O=function(){return l.a.createElement(s.a,null,l.a.createElement("div",{className:"App"},l.a.createElement(h,null),l.a.createElement(c.d,null,l.a.createElement(c.b,{path:"/signin",component:k}),l.a.createElement(c.b,{path:"/signup",component:j}),l.a.createElement(c.b,{path:"/",component:S}))))};o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(O,null)),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.98cea298.chunk.js.map